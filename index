<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Fran√ßais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(to bottom right, rgb(59, 130, 246), rgb(147, 51, 234));
            min-height: 100vh;
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-white text-center mb-8">Bingo Fran√ßais</h1>
        
        <div class="bg-white rounded-lg shadow-2xl p-6 mb-6">
            <div class="text-center mb-6">
                <div class="bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg p-6 mb-4">
                    <p class="text-sm text-gray-700 mb-2">Num√©ro appel√©:</p>
                    <p id="calledNumber" class="text-5xl font-bold text-white">---</p>
                </div>
                
                <div class="flex gap-3 justify-center">
                    <button onclick="callRandomNumber()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold transition">
                        üîÄ Tirer un num√©ro
                    </button>
                    
                    <button onclick="resetGame()" class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-semibold transition">
                        R√©initialiser
                    </button>
                    
                    <button onclick="generateBingoCard()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold transition">
                        Nouvelle carte
                    </button>
                </div>
            </div>
            
            <p id="counter" class="text-center text-sm text-gray-600 mb-4">Num√©ros appel√©s: 0/100</p>
            
            <div id="bingoCard" class="grid grid-cols-5 gap-2 max-w-2xl mx-auto"></div>
        </div>
        
        <div class="bg-white bg-opacity-90 rounded-lg p-4 max-h-32 overflow-y-auto">
            <p class="font-semibold mb-2 text-gray-700">Historique des num√©ros appel√©s:</p>
            <div id="history" class="flex flex-wrap gap-2"></div>
        </div>
    </div>

    <script>
        let bingoCard = [];
        let calledNumbers = [];
        let markedSquares = new Set();

        function numberToFrench(num) {
            const ones = ['', 'un', 'deux', 'trois', 'quatre', 'cinq', 'six', 'sept', 'huit', 'neuf'];
            const tens = ['', 'dix', 'vingt', 'trente', 'quarante', 'cinquante', 'soixante', 'soixante-dix', 'quatre-vingt', 'quatre-vingt-dix'];
            const teens = ['dix', 'onze', 'douze', 'treize', 'quatorze', 'quinze', 'seize', 'dix-sept', 'dix-huit', 'dix-neuf'];
            
            if (num === 0) return 'z√©ro';
            if (num === 100) return 'cent';
            if (num < 10) return ones[num];
            if (num >= 10 && num < 20) return teens[num - 10];
            
            const ten = Math.floor(num / 10);
            const one = num % 10;
            
            if (ten === 7) {
                if (one === 0) return 'soixante-dix';
                return 'soixante-' + teens[one];
            }
            
            if (ten === 9) {
                if (one === 0) return 'quatre-vingt-dix';
                return 'quatre-vingt-' + teens[one];
            }
            
            if (ten === 8 && one === 0) return 'quatre-vingts';
            
            if (one === 0) return tens[ten];
            if (one === 1 && (ten === 2 || ten === 3 || ten === 4 || ten === 5 || ten === 6)) {
                return tens[ten] + '-et-un';
            }
            
            return tens[ten] + '-' + ones[one];
        }

        function generateBingoCard() {
            const numbers = [];
            while (numbers.length < 25) {
                const num = Math.floor(Math.random() * 100) + 1;
                if (!numbers.includes(num)) {
                    numbers.push(num);
                }
            }
            bingoCard = numbers;
            markedSquares = new Set();
            renderBingoCard();
        }

        function renderBingoCard() {
            const cardEl = document.getElementById('bingoCard');
            cardEl.innerHTML = '';
            
            bingoCard.forEach((num, index) => {
                const button = document.createElement('button');
                button.className = 'aspect-square border-4 border-gray-800 rounded-lg font-bold text-xs flex items-center justify-center transition-all hover:scale-105 capitalize p-1 ' + 
                    (markedSquares.has(index) ? 'bg-red-500 text-white' : 'bg-white text-gray-800 hover:bg-gray-100');
                button.textContent = numberToFrench(num);
                button.onclick = () => toggleSquare(index);
                cardEl.appendChild(button);
            });
        }

        function toggleSquare(index) {
            if (markedSquares.has(index)) {
                markedSquares.delete(index);
            } else {
                markedSquares.add(index);
            }
            renderBingoCard();
        }

        function callRandomNumber() {
            const availableNumbers = Array.from({ length: 100 }, (_, i) => i + 1)
                .filter(n => !calledNumbers.includes(n));
            
            if (availableNumbers.length === 0) {
                alert('Tous les num√©ros ont √©t√© appel√©s!');
                return;
            }
            
            const randomNum = availableNumbers[Math.floor(Math.random() * availableNumbers.length)];
            calledNumbers.push(randomNum);
            
            document.getElementById('calledNumber').textContent = randomNum;
            document.getElementById('counter').textContent = `Num√©ros appel√©s: ${calledNumbers.length}/100`;
            
            updateHistory();
        }

        function updateHistory() {
            const historyEl = document.getElementById('history');
            historyEl.innerHTML = '';
            
            calledNumbers.forEach(num => {
                const span = document.createElement('span');
                span.className = 'bg-blue-100 px-3 py-1 rounded text-sm';
                span.textContent = num;
                historyEl.appendChild(span);
            });
        }

        function resetGame() {
            calledNumbers = [];
            markedSquares = new Set();
            document.getElementById('calledNumber').textContent = '---';
            document.getElementById('counter').textContent = 'Num√©ros appel√©s: 0/100';
            document.getElementById('history').innerHTML = '';
            renderBingoCard();
        }

        // Initialize on load
        generateBingoCard();
    </script>
</body>
</html>
